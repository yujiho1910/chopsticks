<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Play the classic Chopsticks hand game online. 2-player mode with custom names and split/clap mechanics.">
  <title>Chopsticks Game</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
</head>

<body>
  <div class="background">
    <main class="container">
      <h1>Chopsticks</h1>

      <!-- Main Menu Screen -->
      <section id="menu" role="navigation" aria-label="Game Mode Selection">
        <h2>Select Game Mode</h2>
        <button id="mode-2p" aria-describedby="mode-2p-desc">2 Player Mode</button>
        <div id="mode-2p-desc" class="sr-only">Play against another person on the same device</div>
        <button id="mode-ai-random" aria-describedby="mode-ai-random-desc">Play vs AI (Random)</button>
        <div id="mode-ai-random-desc" class="sr-only">Play against a simple AI that picks random valid moves</div>
      </section>

      <!-- Player Name Setup Screen -->
      <section id="name-setup" class="hidden" role="form" aria-label="Player Name Setup">
        <h2 id="name-setup-title">Enter Player Names</h2>
        <div class="name-inputs">
          <div class="name-input-group" id="player1-input-group">
            <label for="player1-name">Player 1:</label>
            <input type="text" id="player1-name" placeholder="Player 1" maxlength="20" aria-describedby="name-help"
              autocomplete="off">
          </div>
          <div class="name-input-group" id="player2-input-group">
            <label for="player2-name">Player 2:</label>
            <input type="text" id="player2-name" placeholder="Player 2" maxlength="20" aria-describedby="name-help"
              autocomplete="off">
          </div>
        </div>
        <div id="name-help" class="sr-only">Enter custom names or leave blank to use defaults</div>
        <div class="name-setup-buttons">
          <button id="start-game-btn">Start Game</button>
          <button id="back-to-menu-btn">Back</button>
        </div>
      </section>

      <!-- Main Game Interface -->
      <section id="game-ui" class="hidden" role="main" aria-label="Game Board">
        <!-- Game Controls -->
        <button class="reset-icon-btn" id="reset-btn" title="Reset Game" aria-label="Reset Game">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
            <path d="M21 3v5h-5" />
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
            <path d="M3 21v-5h5" />
          </svg>
        </button>

        <button class="menu-icon-btn" id="menu-btn" title="Back to Menu" aria-label="Back to Menu">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>

        <!-- Turn Indicator -->
        <div id="turn-indicator" role="status" aria-live="polite">Player 1's Turn</div>

        <!-- Game Board Layout -->
        <div class="game-board" role="region" aria-label="Game Board">
          <!-- Player 1 Section -->
          <div class="container-p1" id="player1-board">
            <div class="player-section">
              <h2>Player 1</h2>
            </div>
            <div class="hands-section">
              <button class="hand" data-player="player1" data-hand="left" aria-label="Player 1 Left Hand"
                aria-describedby="p1-left-count">
                âœ‹<span class="count" id="p1-left-count">1</span>
              </button>
              <button class="hand" data-player="player1" data-hand="right" aria-label="Player 1 Right Hand"
                aria-describedby="p1-right-count">
                ðŸ¤š<span class="count" id="p1-right-count">1</span>
              </button>
            </div>
          </div>

          <!-- Visual Divider -->
          <div class="center-divider" aria-hidden="true"></div>

          <!-- Player 2 Section -->
          <div class="container-p2" id="player2-board">
            <div class="player-section">
              <h2>Player 2</h2>
            </div>
            <div class="hands-section">
              <button class="hand" data-player="player2" data-hand="left" aria-label="Player 2 Left Hand"
                aria-describedby="p2-left-count">
                âœ‹<span class="count" id="p2-left-count">1</span>
              </button>
              <button class="hand" data-player="player2" data-hand="right" aria-label="Player 2 Right Hand"
                aria-describedby="p2-right-count">
                ðŸ¤š<span class="count" id="p2-right-count">1</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Game Messages -->
        <div id="message" role="status" aria-live="polite"></div>

        <!-- Clap/Split Action Button -->
        <button id="clap-btn" class="hidden" aria-describedby="clap-help">
          Clap (Split Hand)
        </button>
        <div id="clap-help" class="sr-only">
          Split your active hand's fingers between both hands
        </div>

        <!-- Clap Modal Dialog -->
        <div class="modal-popout" id="clap-modal" role="dialog" aria-labelledby="clap-modal-title"
          aria-describedby="clap-modal-desc" aria-hidden="true">
          <div class="modal-content">
            <h3 id="clap-modal-title">Split Your Hand</h3>
            <div class="modal-desc" id="clap-modal-desc">
              Distribute <span id="clap-hand-val"></span> between two hands:
            </div>
            <div class="modal-inputs" role="group" aria-label="Finger distribution">
              <label for="clap-left" class="sr-only">Left hand fingers</label>
              <input id="clap-left" type="number" min="1" aria-label="Left hand fingers" inputmode="numeric"
                pattern="[0-9]*">
              <span class="plus" aria-hidden="true">+</span>
              <label for="clap-right" class="sr-only">Right hand fingers</label>
              <input id="clap-right" type="number" min="1" aria-label="Right hand fingers" inputmode="numeric"
                pattern="[0-9]*">
            </div>
            <div id="clap-error" class="modal-error" role="alert" aria-live="assertive"></div>
            <div class="modal-actions">
              <button id="clap-confirm" class="modal-btn confirm">Confirm</button>
              <button id="clap-cancel" class="modal-btn cancel">Cancel</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="dist/app.bundle.js"></script>
</body>

</html>